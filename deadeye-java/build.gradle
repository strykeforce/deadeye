plugins {
    id "java-library"
    id "idea"
    id "maven-publish"
    id "org.jetbrains.kotlin.jvm" version "1.3.61"
    id "org.jetbrains.kotlin.kapt" version "1.3.61"

}

group = 'org.strykeforce'
version = '20.0.0'

sourceCompatibility = JavaVersion.VERSION_11
targetCompatibility = JavaVersion.VERSION_11

repositories {
  jcenter()
  maven { url "https://frcmaven.wpi.edu/artifactory/release/" }
}


dependencies {
  implementation "edu.wpi.first.ntcore:ntcore-java:2020.1.2"
  implementation "org.jetbrains.kotlin:kotlin-stdlib"
  implementation "org.slf4j:slf4j-api:1.7.28"
  implementation "com.squareup.moshi:moshi:1.8.0"
  kapt "com.squareup.moshi:moshi-kotlin-codegen:1.8.0"

}

publishing {
    publications {
        thirdcoastLibrary(MavenPublication) {
            from components.java
        }
    }

    repositories {
      maven {
        url "s3://maven.strykeforce.org/repo"
        credentials(AwsCredentials) {
          accessKey "${System.getenv('STRYKEFORCE_AWS_KEY')}"
          secretKey "${System.getenv('STRYKEFORCE_AWS_SECRET')}"
      }
    }
    }
}
